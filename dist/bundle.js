"use strict";function _slicedToArray(a,b){return _arrayWithHoles(a)||_iterableToArrayLimit(a,b)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(a,b){var c=[],d=!0,e=!1,f=void 0;try{for(var g,h=a[Symbol.iterator]();!(d=(g=h.next()).done)&&(c.push(g.value),!(b&&c.length===b));d=!0);}catch(a){e=!0,f=a}finally{try{d||null==h["return"]||h["return"]()}finally{if(e)throw f}}return c}function _arrayWithHoles(a){if(Array.isArray(a))return a}function _typeof(a){return _typeof="function"==typeof Symbol&&"symbol"===_typeof(Symbol.iterator)?function(a){function b(){return a.apply(this,arguments)}return b.toString=function(){return a.toString()},b}(function(a){return"undefined"==typeof a?"undefined":_typeof(a)}):function(a){function b(){return a.apply(this,arguments)}return b.toString=function(){return a.toString()},b}(function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":"undefined"==typeof a?"undefined":_typeof(a)}),_typeof(a)}!function(a){function b(d){if(c[d])return c[d].exports;var e=c[d]={i:d,l:!1,exports:{}};return a[d].call(e.exports,e,e.exports,b),e.l=!0,e.exports}var c={};b.m=a,b.c=c,b.d=function(a,c,d){b.o(a,c)||Object.defineProperty(a,c,{enumerable:!0,get:d})},b.r=function(a){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(a,"__esModule",{value:!0})},b.t=function(a,c){if(1&c&&(a=b(a)),8&c)return a;if(4&c&&"object"==("undefined"==typeof a?"undefined":_typeof(a))&&a&&a.__esModule)return a;var d=Object.create(null);if(b.r(d),Object.defineProperty(d,"default",{enumerable:!0,value:a}),2&c&&"string"!=typeof a)for(var f in a)b.d(d,f,function(b){return a[b]}.bind(null,f));return d},b.n=function(a){var c=a&&a.__esModule?function(){return a.default}:function(){return a};return b.d(c,"a",c),c},b.o=function(a,b){return Object.prototype.hasOwnProperty.call(a,b)},b.p="",b(b.s=0)}([function(a,b,c){"use strict";function d(a,b){if(a===b)return!0;if(null==a||null==b)return!1;if(a.length!==b.length)return!1;for(var c=0;c<a.length;c++)if(a[c]!==b[c])return!1;return!0}c.r(b);var e=function(a,b){var c=Math.abs,e=2<arguments.length&&void 0!==arguments[2]?arguments[2]:3,f=3<arguments.length&&void 0!==arguments[3]?arguments[3]:3,g={width:a,height:b,whiteRows:e,blackRows:f,turn:0};return g.reset=function(){for(var a=function a(b){for(var c=b.fill,d=_slicedToArray(b.size,2),f=d[0],g=d[1],h=[],e=0;e<f;e++)h.push(Array(g).fill(c));return h.get=function(a){var b=_slicedToArray(a,2),c=b[0],d=b[1];return h[c][d]},h.set=function(a,b){var c=_slicedToArray(a,2),d=c[0],e=c[1];h[d][e]=b},h.forEach2=function(a){return h.forEach(function(b,c){return b.forEach(function(b,d){return a(b,[c,d])})})},h.map2=function(b){var d=a({fill:c,size:[f,g]});return h.forEach2(function(a,c){var e=_slicedToArray(c,2),f=e[0],g=e[1];d[f][g]=b(a,[f,g])}),d},h.getIndices=function(a){for(var b=0;b<f;b++)for(var c=0;c<g;c++)if(h[b][c]===a)return[b,c];return-1},h.every2=function(a){return h.every(function(b){return b.every(a)})},h}({fill:0,size:[g.width,g.height]}),b=0;b<g.whiteRows;b++)for(var c=b%2;c<g.width;c+=2)a[c][b]=1;for(var d=g.height-f;d<g.height;d++)for(var e=d%2;e<g.width;e+=2)a[e][d]=2;g.board=a,g.turn=0},g.isInBoard=function(c){var d=_slicedToArray(c,2),e=d[0],f=d[1];return 0<=e&&e<a&&0<=f&&f<b},g.makeMove=function(a){var b=a.start,d=a.end,e=a.capture;g.turn=(g.turn+1)%2,e&&g.board.set(e,0);var f=g.board.get(b);g.board.set(b,0);var h=1===c(f)?g.height-1:0;0<f&&d[1]===h?g.board.set(d,-f):g.board.set(d,f)},g.getLegalMoves=function(b){var d=_slicedToArray(b,2),e=d[0],h=d[1],j=0>g.board[e][h],k=c(g.board[e][h]),m=1===k?1:-1,i=-m,n=[[1,m],[-1,m]];j&&n.push([1,i],[-1,i]);for(var l=[],f=0;f<n.length;f++){var o=_slicedToArray(n[f],2),p=o[0],q=o[1],r=[e+p,h+q];if(g.isInBoard(r)){var a=g.board.get(r);if(0===a)l.push({start:b,end:r});else if(a!==k){var s=r.slice();r[0]+=p,r[1]+=q,g.isInBoard(r)&&0===g.board.get(r)&&l.push({start:b,end:r,capture:s})}}}return l},g.isLegalMove=function(a){for(var b,c=a.start,e=a.end,f=g.getLegalMoves(c),h=0;h<f.length;h++)if(b=f[h],d(b.start,c)&&d(b.end,e))return!0;return!1},g.reset(),g}(8,8);e.board.set([3,3],2),window.checkers=e,console.log(e.isLegalMove({start:[2,2],end:[1,3]})),e.makeMove({start:[2,2],end:[4,4],capture:[3,3]}),e.reset(),console.log(function(a){for(var b=a.length,c=a[0].length,d="",e=0;e<c;e++){for(var f=0;f<b;f++)d+=a[f][e];d+="\n"}return d}(e.board)),console.log(e.getLegalMoves([2,2]))}]);